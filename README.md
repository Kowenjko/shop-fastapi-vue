# üõí Shop Project

[![Docker](https://img.shields.io/badge/Docker-20.19-blue)](https://www.docker.com/)
[![Node.js](https://img.shields.io/badge/Node.js-20.19-brightgreen)](https://nodejs.org/)
[![Python](https://img.shields.io/badge/Python-3.14-blue)](https://www.python.org/)

–õ–æ–∫–∞–ª—å–Ω–æ–µ dev-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —Å **FastAPI** (API) –∏ **Vue 3** (Frontend) —á–µ—Ä–µ–∑ **Nginx** —Å HTTPS.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

project-root/
‚îÇ
‚îú‚îÄ‚îÄ api/ # Backend (FastAPI)
‚îÇ ‚îú‚îÄ‚îÄ run.py # –ó–∞–ø—É—Å–∫ FastAPI
‚îÇ ‚îú‚îÄ‚îÄ run_seed.py # –°–∏–¥–∏–Ω–≥ –±–∞–∑—ã
‚îÇ ‚îú‚îÄ‚îÄ alembic.ini # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
‚îÇ ‚îî‚îÄ‚îÄ app/
‚îÇ ‚îî‚îÄ‚îÄ alembic/ # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ client/ # Frontend (Vue 3)
‚îÇ
‚îú‚îÄ‚îÄ nginx/ # Nginx –∫–æ–Ω—Ñ–∏–≥ –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îÇ ‚îú‚îÄ‚îÄ nginx.conf
‚îÇ ‚îî‚îÄ‚îÄ certs/ # Dev-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Å–æ–∑–¥–∞—é—Ç—Å—è Makefile)
‚îÇ
‚îú‚îÄ‚îÄ docker/ # Dockerfile –¥–ª—è API –∏ Frontend
‚îÇ ‚îú‚îÄ‚îÄ api/Dockerfile
‚îÇ ‚îî‚îÄ‚îÄ client/Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ certs/ # Root CA –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yaml
‚îî‚îÄ‚îÄ Makefile # Dev –∫–æ–º–∞–Ω–¥—ã, –º–∏–≥—Ä–∞—Ü–∏–∏, seed –∏ HTTPS

## ‚ö° Dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å HTTPS

**–î–æ–º–µ–Ω—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

- Frontend: `https://shop.local`  
- Backend: `https://api.shop.local`
---

**–î–æ–±–∞–≤—å—Ç–µ –≤ `/etc/hosts`:**
127.0.0.1 shop.local
127.0.0.1 api.shop.local

---

## üõ† Makefile –∫–æ–º–∞–Ω–¥—ã

### Dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ

| –ö–æ–º–∞–Ω–¥–∞                 | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------------|----------|
| `make dev`              | –ü–æ–¥–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π (—Ñ–æ—Ä–≥—Ä–∞—É–Ω–¥) |
| `make up`               | –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–µ |
| `make down`             | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã |
| `make restart`          | –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã |
| `make logs`             | –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| `make clean`            | –û—á–∏—Å—Ç–∫–∞ Docker-–∫—ç—à–∞ –∏ volumes |

### HTTPS (Dev Certificates)

| –ö–æ–º–∞–Ω–¥–∞                 | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------------|----------|
| `make dev-certs`        | –°–æ–∑–¥–∞—ë—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π root CA –∏ –ø–æ–¥–ø–∏—Å—å –¥–ª—è `shop.local` –∏ `api.shop.local`, –¥–æ–±–∞–≤–ª—è–µ—Ç root CA –≤ Ubuntu |

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Alembic)

| –ö–æ–º–∞–Ω–¥–∞                             | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------------------------|----------|
| `make revision msg="–æ–ø–∏—Å–∞–Ω–∏–µ"`       | –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π |
| `make migrate`                       | –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –±–∞–∑–µ |
| `make downgrade`                     | –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é |

### Seed –¥–∞–Ω–Ω—ã—Ö

| –ö–æ–º–∞–Ω–¥–∞                 | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------------|----------|
| `make seed`             | –ó–∞–ø—É—Å–∫–∞–µ—Ç `api/run_seed.py` –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |

---

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è root CA –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:

```bash
make dev-certs

2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ dev –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
make dev
```

Frontend: https://shop.local
Backend: https://api.shop.local

3Ô∏è‚É£ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

make revision msg="create users table"
make migrate

4Ô∏è‚É£ Seed –±–∞–∑—ã:

make seed

5Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

make down






